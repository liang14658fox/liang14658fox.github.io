---
title: formatter
---
### element表格金额格式化 <Badge type="tip" text="^1.0.1" />

金税系统的表格展示里通常封装对金额的格式化方法，需要对数字进行千分符，小数点后取位，加单位等操作，展示到element官方提供的table里。

我们仅需要给table里的任意一列添加 `:formatter="formatter"` 属性即可。
```html 
<el-table-column prop="je" label="金额"  :formatter="formatter">
</el-table-column>
```
methods里写formatter方法，当然你也可以选择封装的方式来复用。
```js
formatter(row, column, cellValue, index) {
	function number_format(number, decimals, dec_point, thousands_sep) {
		number = (number + '').replace(/[^0-9+-Ee.]/g, '');
		var n = !isFinite(+number) ? 0 : +number,
			prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
			sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,
			dec = (typeof dec_point === 'undefined') ? '.' : dec_point,
			s = '',
			toFixedFix = function(n, prec) {
				var k = Math.pow(10, prec);
				return '' + Math.ceil(n * k) / k;
			};
		s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');
		var re = /(-?\d+)(\d{3})/;
		while (re.test(s[0])) {
			s[0] = s[0].replace(re, "$1" + sep + "$2");
		}
		if ((s[1] || '').length < prec) {
			s[1] = s[1] || '';
			s[1] += new Array(prec - s[1].length + 1).join('0');
		}
		return s.join(dec);
	}
	var num = number_format(cellValue, 2, ".", ",")
	return "¥" + num
},
```
:::tip 
可以将 formatter() 函数挂载到Vue实例上，这样可以直接在每个组件上调用，而不需要引入，但不建议这样做。
:::