---
title: 操作对象数组
---
## 1. 根据属性值检索对象数组
<!-- 初始对象数组 `OriginArray` ，
```js {3,4,9,14}
[
    {
        key1 : A_value1, 
        key2 : A_value2,
        key3 : A_value3,
    },
    {
        key1 : B_value1,
        key2 : B_value2,
        key3 : B_value3,
    },
    {
        key1 : C_value1,
        key2 : C_value2,
        key3 : C_value3,
    }
]
```
找到key1 == A_value1的对象，然后删除它。 -->

找到对象数组中健名为name的的健值对的键值为solid的那个对象。
```js {14,15}
var a = [{
	name: "zain",
	age: 28
},
{
	name: "jack",
	age: 29
},
{
	name: "sank",
	age: 30
},
{
	name: "solid",
	age: 31
}
];
function test() {
a.forEach(element => {
	if (element.name == "solid") {
		if (a.indexOf(element) > -1) {
			var i = a.indexOf(element);
			a.splice(i, 1);
		}
	}
});
}
test();
console.log(a);
```

<!-- ## 2. 提取对象数组的属性值
初始对象数组 `OriginArray` ，遍历数组，对象的键名为key1对应的键值作为键名，键名为key2对应的键值作为键值，组成一个新的对象。
```js {3,4,8,9,13,14}
[
    {
        key1 : A_value1,
        key2 : A_value2,
        key3 : A_value3,
    },
    {
        key1 : B_value1,
        key2 : B_value2,
        key3 : B_value3,
    },
    {
        key1 : C_value1,
        key2 : C_value2,
        key3 : C_value3,
    }
]
```
期望结果 `resultArray`
```js
{
    A_value1 : A_value2,
    B_value1 : B_value2,
    C_value1 : C_value3
}
```
算法
```js
...
``` -->
<!-- ## 2. 对象数组根据字典替换
初始对象数组 `OriginArray` （目标对象数组，是一个由对象组成的数组）
```js
[
    {
        userId:'value_a1',
        userData:'默认数据'
    },
    {
        userId:'value_b1',
        userData:'默认数据'
    },
    {
        userId:'value_c1',
        userData:'默认数据'
    }
]
```
字典 `directionary` （对象数组）
```js {4,5,9,10,14,15}
[
    {
        //用来检索的值 value_a1 有可能会出现在 初始对象数组 中某个对象的指定属性的值 中
        key_a1 : value_a1,
        key_a2 : value_a2, //将目标对象数组中的检索值替换为此值
        key_a3 : value_a3, 
    },
    {
        key_b1 : value_b1,
        key_b2 : value_b2,
        key_b3 : value_b3,
    },
    {
        key_c1 : value_c1,
        key_c2 : value_c2,
        key_c3 : value_c3,
    }
]
```
期望结果 `resultArray`
```js {3,7,11}
[
    {
        userId:'value_a2', //userId键的值 被替换为 字典中的值
        userData:'默认数据'
    },
    {
        userId:'value_b2',
        userData:'默认数据'
    },
    {
        userId:'value_c2',
        userData:'默认数据'
    }
]
```
:::tip 
或者，不替换被检索值，替换同一对象中其他的键值对的值
:::
期望结果（2） `resultArray`
```js {4,9,13}
[
    {
        userId:'value_a1', //没动
        userData:'value_a2' 
        //userData键的值 由 `默认数据` 换为了 字典中 key_a3键 的 值`value_a2`
    },
    {
        userId:'value_b1',
        userData:'value_b2'
    },
    {
        userId:'value_c1',
        userData:'value_b2'
    }
]
```
算法
```js
...
``` -->

## 2. 提取对象数组中部分键值对并且更换键名而不换键值
初始对象数组 `OriginArray` ，提取这个数组中的每一个对象的任意数量的键值对的值，赋予他们新的键名，
然后组成一个新的对象数组。
```js {3,4}
[
    {
        oldId:'007', //名，保留健值，操作相当于提取键值
        oldName:'梁远东',
        uselessData:'没用的数据' //这个键值对不要了，只提取上面两个
    },
    {
        oldId:'001',
        oldName:'谈畅',
        uselessData:'没用的数据'
    }
]
```
期望结果 `resultArray`
```js {3,4}
[
    {
        newUUID:'007',
        newName:'梁远东'
    },
    {
        newUUID:'001',
        newName:'谈畅'
    }
]
```


算法
:::code-group
```js [方案一] {3,4}
let resultArray = OriginArray.map((item, index) => {
	return Object.assign({}, {
		'newUUID': item.oldId,
		'newName': item.oldName
	})
})
console.log(resultArray)
```
```js [方案二] {4,5,10,11,16,17,22,23}
// 将（ 由对象组成的数组） 中的每个对象的（ 其中两个属性（ 键值对）） 的值提取出来， 给他们一个新的键名，
// 将（由新键名：旧键值） 组成一个 新的（ 由对象组成的数组）。
var oldArray = [{
		oldID: '19991231',
		oldName: '小明',
		uselessData: '没用的数据1',
		uselessData2: '没用的数据2',
	},
	{
		oldID: '4531927',
		oldName: '小白',
		uselessData: '没用的数据1',
		uselessData2: '没用的数据2',
	},
	{
		oldID: '19741229',
		oldName: '小绿',
		uselessData: '没用的数据1',
		uselessData2: '没用的数据2',
	},
	{
        oldID: '19740908',
		oldName: '小红',
		uselessData: '没用的数据1',
		uselessData2: '没用的数据2',
	},
]
var NewArray = []
// 旧数组有多长，就循环多少次
for (let index = 0; index < this.oldArray.length; index++) {
	NewArray.push({
		NewID: '',
		NewName: ''
	});
	NewArray[index].NewName = oldArray[index].oldName;
	NewArray[index].NewID = oldArray[index].oldID;
}
console.log(NewArray)
```
:::
## 3. 求对象数组中，其中一个属性的和
这里使用Vue模板为例子：
* data()中：
```js

this.LivetableData = 
[
    {
        je: '100',//注意要求和的值是字符串类型！
        se: 123,
    },{
        je: 200,
        se: '123',
    },{
        je: '300',
        se: 123,
    }
]
```
* methods中：
```js
SumSubmit() {
//首先将要求和的String类型转换为Number类型
for (var i = 0; i < this.LivetableData.length; i++) {
	this.LivetableData[i].je = Number(this.LivetableData[i].je)
}
//然后提取需要的属性
let arrnew = this.LivetableData.map((item, index) => {
	return Object.assign({}, {
		'je': item.je
	})
})
//求和函数
function sum(arr) {
		var s = 0;
		for (var i = 0; i < arr.length; i++) {
			s += arr[i];
		}
		return s;
	}
//提取对象数组为数组，求和
console.log(sum(arrnew.map(item => item.je))) //打印
}
```
## 4. 提取对象数组中的某一个属性组成新数组
```js
//初始对象数组
arrold = [
　　{name: "name1", age: "1"},
　　{name: "name2", age: "2"},
　　{name: "name3", age: "3"},
　　{name: "name4", age: "4"},
　　{name: "name5", age: "5"},
　　{name: "name6", age: "6"}
]
//期望数组：
arrnew = ["name1","name2","name3","name4","name5","name6"]
```
* 方法一：
```js
let arr = [];
arrold.forEach(e => { 
    arrnew.push(e.name)
})
```
* 方法二：
```js
let arrnew = arrold.map((obj,index) => {
    return obj.name;
}).join(",").split(',')
```
* 方法二改进：
```js
let arrnew = arrold.map((item,index) => {
    return Object.assign({},{'name':item.name})
})
```
:::tip 关于Object.assign(target，sources)方法 
拷贝源对象且可枚举的属性到目标对象，如果目标对象中的属性具有相同的键，则属性将被源中的属性覆盖。例：
```js
const object1 = { a: 1, b: 2, c: 3 }; 
// object2: a=1, b=2, c=3, d=5 
const object2 = Object.assign({c: 4, d: 5}, object1);
```
:::
* 方法三：
```js [算法]
var arrnew = arrold.map(a => a.name);
console.log(arrnew) //仅由键值对的值构成的数组：[梁远东,谈畅,XXX]
```

