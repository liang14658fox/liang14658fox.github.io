import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.681fc4ae.js";const u=JSON.parse('{"title":"Vue底层源码","description":"","frontmatter":{"title":"Vue底层源码"},"headers":[],"relativePath":"框架与工程化/Vue/Vue进阶/040.实现Vue.js.md","filePath":"框架与工程化/Vue/Vue进阶/040.实现Vue.js.md","lastUpdated":null}'),p={name:"框架与工程化/Vue/Vue进阶/040.实现Vue.js.md"},o=l(`<h2 id="vue底层原理" tabindex="-1">vue底层原理 <a class="header-anchor" href="#vue底层原理" aria-label="Permalink to &quot;vue底层原理&quot;">​</a></h2><p>Vue.js底层是一个MVVM（Model-View-ViewModel）框架，它包含以下四个部分：</p><ol><li><p>数据：模型层，它是应用程序的数据源，可以从服务器端获取。</p></li><li><p>视图：视图层，它是应用程序的用户界面，由HTML模板、Vue组件和CSS样式表构成。</p></li><li><p>ViewModel：ViewModel层，它是桥梁，能够将数据与视图连接在一起，并在模型和视图之间进行双向数据绑定。</p></li><li><p>双向数据绑定：双向数据绑定层，它允许数据在模型和视图之间双向流动，当数据在一端发生变化时，另一端也会同步更新。</p></li></ol><h2 id="vue-js的底层原理的模仿" tabindex="-1">Vue.js的底层原理的模仿: <a class="header-anchor" href="#vue-js的底层原理的模仿" aria-label="Permalink to &quot;Vue.js的底层原理的模仿:&quot;">​</a></h2><p>Vue.js底层原理是基于观察者模式实现双向数据绑定。观察者模式是一种消息机制，它定义了一种一对多的依赖关系，使得当一个对象的状态发生变化时，所有依赖它的对象都会收到通知并自动更新。Vue.js利用观察者模式来实现双向数据绑定，即当数据模型中的数据发生变化时，视图也会随之更新。</p><ul><li>以下是一个简易的类似于Vue.js的demo：</li></ul><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki vitesse-dark vp-code-dark"><code><span class="line"><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">html</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">head</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">title</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">Vue.js Demo</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">title</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">		&lt;</span><span style="color:#4D9375;">script</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">type</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">text/javascript</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// 初始化数据</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#CB7676;">var</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">data</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#B8A965;">name</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">John Doe</span><span style="color:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// 创建观察者</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#CB7676;">var</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">observer</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#80A665;">update</span><span style="color:#666666;">:</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#BD976A;">document</span><span style="color:#666666;">.</span><span style="color:#80A665;">getElementById</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">name</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">).</span><span style="color:#BD976A;">innerHTML</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">name</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">			</span><span style="color:#758575DD;">// 绑定更新函数</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#CB7676;">function</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">bindUpdate</span><span style="color:#666666;">(</span><span style="color:#BD976A;">observer</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">data</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">				</span><span style="color:#BD976A;">document</span><span style="color:#666666;">.</span><span style="color:#80A665;">getElementById</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">nameInput</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">.</span><span style="color:#80A665;">addEventListener</span><span style="color:#666666;">(</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#C98A7D;">input</span><span style="color:#C98A7D99;">&#39;</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#CB7676;">function</span><span style="color:#666666;">(</span><span style="color:#BD976A;">e</span><span style="color:#666666;">)</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">{</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">data</span><span style="color:#666666;">.</span><span style="color:#BD976A;">name</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">e</span><span style="color:#666666;">.</span><span style="color:#BD976A;">target</span><span style="color:#666666;">.</span><span style="color:#BD976A;">value</span><span style="color:#666666;">;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">						</span><span style="color:#BD976A;">observer</span><span style="color:#666666;">.</span><span style="color:#80A665;">update</span><span style="color:#666666;">(</span><span style="color:#BD976A;">data</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">					</span><span style="color:#666666;">});</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#666666;">}</span></span>
<span class="line"><span style="color:#DBD7CAEE;">			</span><span style="color:#80A665;">bindUpdate</span><span style="color:#666666;">(</span><span style="color:#BD976A;">observer</span><span style="color:#666666;">,</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">data</span><span style="color:#666666;">);</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">script</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">head</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">body</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		Name: </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">span</span><span style="color:#DBD7CAEE;"> </span><span style="color:#BD976A;">id</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">name</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">&gt;</span><span style="color:#DBD7CAEE;">John Doe</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">span</span><span style="color:#666666;">&gt;&lt;</span><span style="color:#4D9375;">br</span><span style="color:#DBD7CAEE;"> </span><span style="color:#666666;">/&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">		Change Name: </span><span style="color:#666666;">&lt;</span><span style="color:#4D9375;">input</span><span style="color:#666666;"> </span><span style="color:#BD976A;">id</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">nameInput</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">type</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">text</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> </span><span style="color:#BD976A;">value</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">John Doe</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;"> /&gt;</span></span>
<span class="line"><span style="color:#DBD7CAEE;">	</span><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">body</span><span style="color:#666666;">&gt;</span></span>
<span class="line"><span style="color:#666666;">&lt;/</span><span style="color:#4D9375;">html</span><span style="color:#666666;">&gt;</span></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">html</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">head</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">title</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">Vue.js Demo</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">title</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">		&lt;</span><span style="color:#1E754F;">script</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">type</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">text/javascript</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// 初始化数据</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">data</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#998418;">name</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">John Doe</span><span style="color:#B5695999;">&#39;</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// 创建观察者</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#AB5959;">var</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">observer</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#59873A;">update</span><span style="color:#999999;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#B07D48;">document</span><span style="color:#999999;">.</span><span style="color:#59873A;">getElementById</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">name</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">).</span><span style="color:#B07D48;">innerHTML</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">name</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#999999;">			</span><span style="color:#A0ADA0;">// 绑定更新函数</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#59873A;">bindUpdate</span><span style="color:#999999;">(</span><span style="color:#B07D48;">observer</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">data</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">				</span><span style="color:#B07D48;">document</span><span style="color:#999999;">.</span><span style="color:#59873A;">getElementById</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">nameInput</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">)</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">.</span><span style="color:#59873A;">addEventListener</span><span style="color:#999999;">(</span><span style="color:#B5695999;">&#39;</span><span style="color:#B56959;">input</span><span style="color:#B5695999;">&#39;</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#999999;">(</span><span style="color:#B07D48;">e</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">data</span><span style="color:#999999;">.</span><span style="color:#B07D48;">name</span><span style="color:#393A34;"> </span><span style="color:#999999;">=</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">e</span><span style="color:#999999;">.</span><span style="color:#B07D48;">target</span><span style="color:#999999;">.</span><span style="color:#B07D48;">value</span><span style="color:#999999;">;</span></span>
<span class="line"><span style="color:#393A34;">						</span><span style="color:#B07D48;">observer</span><span style="color:#999999;">.</span><span style="color:#59873A;">update</span><span style="color:#999999;">(</span><span style="color:#B07D48;">data</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">					</span><span style="color:#999999;">});</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#999999;">}</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#59873A;">bindUpdate</span><span style="color:#999999;">(</span><span style="color:#B07D48;">observer</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">data</span><span style="color:#999999;">);</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">script</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">head</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">body</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">		Name: </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">span</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">id</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">name</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;">&gt;</span><span style="color:#393A34;">John Doe</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">span</span><span style="color:#999999;">&gt;&lt;</span><span style="color:#1E754F;">br</span><span style="color:#393A34;"> </span><span style="color:#999999;">/&gt;</span></span>
<span class="line"><span style="color:#393A34;">		Change Name: </span><span style="color:#999999;">&lt;</span><span style="color:#1E754F;">input</span><span style="color:#999999;"> </span><span style="color:#B07D48;">id</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">nameInput</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">type</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">text</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> </span><span style="color:#B07D48;">value</span><span style="color:#999999;">=</span><span style="color:#B5695999;">&quot;</span><span style="color:#B56959;">John Doe</span><span style="color:#B5695999;">&quot;</span><span style="color:#999999;"> /&gt;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">body</span><span style="color:#999999;">&gt;</span></span>
<span class="line"><span style="color:#999999;">&lt;/</span><span style="color:#1E754F;">html</span><span style="color:#999999;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div>`,7),t=[o];function e(c,r,y,D,i,A){return n(),a("div",null,t)}const E=s(p,[["render",e]]);export{u as __pageData,E as default};
